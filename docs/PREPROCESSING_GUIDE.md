# üìã –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥—É –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–æ–≤

## üéØ –¶–µ–ª—å
–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é LLM (GPT-4 Vision, Claude, –∏ —Ç.–¥.)

## ‚ú® –ß—Ç–æ –±—ã–ª–æ —É–ª—É—á—à–µ–Ω–æ

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚ùå –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è (—á–µ—Ä–Ω–æ-–±–µ–ª—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- ‚ùå –ß–µ—Ä–Ω—ã–µ –ø—è—Ç–Ω–∞ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- ‚ùå –ü–æ—Ç–µ—Ä—è –¥–µ—Ç–∞–ª–µ–π –º–µ–ª–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- ‚ùå –ü–ª–æ—Ö–æ —á–∏—Ç–∞–µ–º—ã–µ —Ü–∏—Ñ—Ä—ã

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –í—ã—Å–æ–∫–æ–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ grayscale –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ë–ï–ó –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏!)
- ‚úÖ –ß–∏—Å—Ç—ã–π –±–µ–ª—ã–π —Ñ–æ–Ω
- ‚úÖ –ß–µ—Ç–∫–∏–π —á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç
- ‚úÖ –û—Ç–ª–∏—á–Ω–æ —á–∏—Ç–∞–µ–º—ã–µ —Ü–∏—Ñ—Ä—ã
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –¥–µ—Ç–∞–ª–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∏–∑ bad_images/)

```bash
cd image_analysis
python image_preprocessor.py
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `image_analysis/processed_images/`

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö 426 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```bash
cd image_analysis
python batch_process_all.py
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `processed_all_images/`

## üé® –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã

### 1. `medical_llm` (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
**–î–ª—è: LLM Vision –º–æ–¥–µ–ª–µ–π**
- –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –•–æ—Ä–æ—à–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –±–µ–∑ –ø–µ—Ä–µ—à–∞—Ä–ø–µ–Ω–∏–Ω–≥–∞
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–æ–≤

```python
config = get_preset("medical_llm")
```

### 2. `medical_llm_sharp` (–î–õ–Ø –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ô –ß–ï–¢–ö–û–°–¢–ò)
**–î–ª—è: LLM Vision –º–æ–¥–µ–ª–µ–π + –ø–ª–æ—Ö–æ —á–∏—Ç–∞–µ–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**
- –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ä–µ–∑–∫–æ—Å—Ç—å
- –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç
- –î–ª—è —Ä–∞–∑–º—ã—Ç—ã—Ö –∏–ª–∏ –Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∫–∞–Ω–æ–≤

```python
config = get_preset("medical_llm_sharp")
```

### 3. `medical_ocr`
**–î–ª—è: –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö OCR —Å–∏—Å—Ç–µ–º (Tesseract, EasyOCR)**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—é
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö OCR –¥–≤–∏–∂–∫–æ–≤
- –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è LLM

```python
config = get_preset("medical_ocr")
```

### 4. `aggressive`
**–î–ª—è: –û—á–µ–Ω—å –ø–ª–æ—Ö–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ë–∏–ª–∞—Ç–µ—Ä–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥—Ä—É–≥–∏–µ –ø—Ä–µ—Å–µ—Ç—ã –Ω–µ –ø–æ–º–æ–≥–∞—é—Ç

```python
config = get_preset("aggressive")
```

## üîß –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–ï—Å–ª–∏ –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–µ—Å–µ—Ç—ã –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Ä—É—á–Ω—É—é –≤ `image_preprocessor.py`:

```python
from config import PreprocessingConfig

config = PreprocessingConfig(
    max_dimension=3000,              # –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    background_kernel_divisor=35,    # –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ (–±–æ–ª—å—à–µ = –º—è–≥—á–µ)
    background_weight=0.6,           # –°–∏–ª–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞ (0.5-1.0)
    clahe_clip_limit=2.8,           # –ö–æ–Ω—Ç—Ä–∞—Å—Ç (2.0-4.5)
    sharpen_amount=1.6,             # –†–µ–∑–∫–æ—Å—Ç—å (1.0-2.5)
    use_binarization=False,         # False –¥–ª—è LLM, True –¥–ª—è OCR
    contrast_enhancement=True,       # –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
)
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û—Ä–∏–≥–∏–Ω–∞–ª | –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ | –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (LLM) |
|----------|----------|---------------|-------------------|
| –§–æ—Ä–º–∞—Ç | RGB | Binary (—á/–±) | Grayscale |
| –§–æ–Ω | –°–µ—Ä—ã–π | –ë–µ–ª—ã–π + –ø—è—Ç–Ω–∞ | –ß–∏—Å—Ç—ã–π –±–µ–ª—ã–π |
| –¢–µ–∫—Å—Ç | –†–∞–∑–º—ã—Ç—ã–π | –ß–µ—Ç–∫–∏–π + –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã | –û—á–µ–Ω—å —á–µ—Ç–∫–∏–π |
| –¶–∏—Ñ—Ä—ã | –ü–ª–æ—Ö–æ –≤–∏–¥–Ω—ã | –°—Ä–µ–¥–Ω–µ | –û—Ç–ª–∏—á–Ω–æ |
| LLM —á–∏—Ç–∞–µ–º–æ—Å—Ç—å | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è GPT-4 Vision / Claude / Gemini:
```python
config = get_preset("medical_llm")  # –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
# –∏–ª–∏
config = get_preset("medical_llm_sharp")  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–µ—Ç–∫–æ—Å—Ç—å
```

### –î–ª—è Tesseract / EasyOCR:
```python
config = get_preset("medical_ocr")  # –° –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–µ–π
```

### –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—á–µ–Ω—å –ø–ª–æ—Ö–∏–µ:
```python
config = get_preset("aggressive")  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
```

## üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏:

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Ä–µ—Å–∞–π–∑** - –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É
2. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ grayscale** - –£–ø—Ä–æ—â–µ–Ω–∏–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–µ—Ä—Å–∏–∏** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
4. **–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞** - –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –æ—Å–≤–µ—â–µ–Ω–∏—è (—É–ª—É—á—à–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥!)
5. **–®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ** - –ú–µ–¥–∏–∞–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä / –±–∏–ª–∞—Ç–µ—Ä–∞–ª—å–Ω—ã–π
6. **CLAHE** - –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
7. **–ü–æ–≤—ã—à–µ–Ω–∏–µ —Ä–µ–∑–∫–æ—Å—Ç–∏** - Unsharp masking
8. **–£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞** - –†–∞—Å—Ç—è–∂–µ–Ω–∏–µ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã (–≤–º–µ—Å—Ç–æ –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏!)


